(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1672],{6882:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/reporting/control-documents",function(){return n(5509)}])},1245:function(t,e,n){"use strict";n.r(e);var o=n(7568),a=n(655),r=n(5893),c=n(6727),i=n.n(c),s=n(7920),l=n(7294),d=n(381),m=n.n(d);i().vfs=s.I.vfs,i().fonts={Poppins:{normal:"Poppins-Regular.ttf",bold:"Poppins-Medium.ttf"},Roboto:{normal:"https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.66/fonts/Roboto/Roboto-Regular.ttf",bold:"https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.66/fonts/Roboto/Roboto-Medium.ttf",italics:"https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.66/fonts/Roboto/Roboto-Italic.ttf",bolditalics:"https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.66/fonts/Roboto/Roboto-MediumItalic.ttf"}};e.default=function(t){var e=t.document_id,n=t.brutto,c=t.netto,s=t.timestamp,d=t.tara,h=t.machine_id,u=t.company,x=t.waretype,f=t.sort,g=function(t){return new Promise((function(e,n){var o=new Image;o.setAttribute("crossOrigin","anonymous"),o.onload=function(){var t=document.createElement("canvas");t.width=o.width,t.height=o.height,t.getContext("2d").drawImage(o,0,0);var n=t.toDataURL("image/png");e(n)},o.onerror=function(t){n(t)},o.src=t}))},p=(0,l.useState)(""),b=p[0],w=p[1],_=(0,l.useState)(null),j=(_[0],_[1]);(0,l.useEffect)((function(){var t=function(){var t=(0,o.Z)((function(){var t;return(0,a.__generator)(this,(function(e){switch(e.label){case 0:return t={},[4,g("/../../e-findo-logo2.jpeg")];case 1:return t.image=e.sent(),t.width=39,t.height=44,t.alignment="center",w(t),[2]}}))}));return function(){return t.apply(this,arguments)}}();t()}),[]);var y={content:[{columns:[{stack:[{text:" "},{text:"MCS - Money Control System",listType:"none"},{text:" ",listType:"none"},{text:"Lieferant Nr.: ".concat(u.client_number),listType:"none"},{text:"".concat(u.client_name),listType:"none"},{text:"".concat(u.street),listType:"none"},{text:"".concat(u.zip_code," ").concat(u.city),listType:"none"},{text:" ",listType:"none"},{text:" ",listType:"none"},{text:"Empf\xe4nger:",listType:"none"},{text:"Rail Kontor AG",listType:"none"},{text:"Kesselerlochstrasse 126",listType:"none"},{text:"CH- 8240 Thayingen",listType:"none"}]},{stack:[b,{text:" "},{text:"www.e-findo.de"}],alignment:"center",margin:[100,0,0,0],fontSize:8,color:"gray"}]},{text:" "},{text:" "},{text:" "},{text:" "},{text:" "},{text:" "},{text:" "},{text:" "},{text:"Gewichtskontrollschein",bold:!0,color:"black",fontSize:11},{text:" "},{text:" "},{text:" "},{text:"Wiege Nr.: ".concat(u.client_number,"-").concat(parseInt(u.client_number)+e)},{text:"Sorte Nr.: ".concat(f," / Warenart: ").concat(x)},{text:" "},{table:{headerRows:1,widths:["*","*","*","*","*"],body:[["Datum","Masch.ID","Uhrzeit","Lfd. Nr.",{text:"Gewicht in kg",alignment:"right"}],["".concat(m()(s).format("DD.MM.yyyy")),"".concat(h),"".concat(m()(s).format("HH:mm")),"".concat(e),[{columns:[{width:"*",text:"Brutto"},{width:"*",text:"".concat(n),alignment:"right"}]},{columns:[{width:"*",text:"Tara"},{width:"*",text:"".concat(d),alignment:"right"}]},{columns:[{width:"*",text:"Netto"},{width:"*",text:"".concat(c),alignment:"right"}]}]]]}},{text:" "},{text:" "},{text:" "},{text:" "},{text:" "},{text:"Bemerkung:"},{text:" "},{text:" "},{text:"Die \xdcbernahme erfolgt vorbehaltlich der Befundfeststellung und/oder verdeckter M\xe4ngel, da eine Sofortkontrolle nicht m\xf6glich ist. Diese werden innerhalb drei Werktagen bekannt gegeben. Dastats\xe4chlich geeichte Gewicht wird im Empfangswerk ermittelt."},{text:" "},{text:" "},{text:" "},{text:" "},{text:" "},{columns:[{width:"*",text:"Fahrzeug-Kennzeichen:"},{width:"*",text:"Ware \xfcbernommen: ".concat(m()().format("DD.MM.YYYY")),alignment:"left"}]},{text:" "},{text:" "},{text:" "},{text:" "},{text:" "},{columns:[{width:"*",text:"Unterschrift Abgeber"},{width:"*",text:"Unterschrift Fr\xe4chter",alignment:"left"}]}],pageSize:"A4",pageMargins:[50,75],defaultStyle:{fontSize:9,color:"#3F3C3E"},styles:{header:{}}};return(0,r.jsx)("div",{children:(0,r.jsx)("button",{onClick:function(){var t=function(){var t=(0,o.Z)((function(){var t;return(0,a.__generator)(this,(function(e){switch(e.label){case 0:return t={},[4,g("/../../e-findo-logo2.jpeg")];case 1:return t.image=e.sent(),t.width=39,t.height=44,t.alignment="center",w(t),[2]}}))}));return function(){return t.apply(this,arguments)}}();t(),i().createPdf(y).getBlob((function(t){var e=URL.createObjectURL(t);j(e),window.open(e,"_blank")}))},children:(0,r.jsx)("img",{className:"h-5",src:"/download-svgrepo-com.svg"})})})}},5509:function(t,e,n){"use strict";n.r(e);var o=n(5893),a=n(7294),r=n(6154),c=n(381),i=n.n(c),s=n(1245);e.default=function(){var t=(0,a.useState)({address_id:"",automatic_email:!1,city:"",client_id:0,client_name:"",client_number:"",client_status:1,co_distance:0,co_orig_amount:0,co_orig_trips:0,co_orig_year:0,co_show:1,contact:"",email:"",land_id:0,logo_url:"",next_pdf_nr:0,spokesperson:"",street:"",telefon:"",worktime_mail:0,worktime_status:0,zip_code:""}),e=t[0],n=t[1],c=(0,a.useState)([]),l=c[0],d=c[1],m=(0,a.useState)(),h=m[0],u=m[1],x=(0,a.useState)(),f=x[0],g=x[1];return(0,a.useEffect)((function(){n(JSON.parse(sessionStorage.getItem("company"))),r.Z.get("https://8v9jqts989.execute-api.eu-central-1.amazonaws.com/control-documents").then((function(t){d(t.data.Items)})).catch((function(t){console.log(t.response)})),r.Z.get("https://8v9jqts989.execute-api.eu-central-1.amazonaws.com/machines").then((function(t){u(t.data.Items)})).catch((function(t){console.log(t.response)})),r.Z.get("https://8v9jqts989.execute-api.eu-central-1.amazonaws.com/waretypes").then((function(t){g(t.data.Items)})).catch((function(t){console.log(t.response)}))}),[]),(0,o.jsxs)("div",{id:"content-page",className:"px-20",children:[(0,o.jsx)("p",{className:"mt-9 text-3xl font-bold mb-10",children:"Kontrollbelege"}),(0,o.jsx)("div",{className:"sm:rounded-lg shadow-md border overflow-x-auto",children:(0,o.jsxs)("table",{className:"table-auto w-full",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{className:"text-xs text-gray-500 border-b text-left",children:[(0,o.jsx)("th",{className:"font-normal",children:"Maschine"}),(0,o.jsx)("th",{className:"font-normal",children:"PDF"}),(0,o.jsx)("th",{className:"font-normal",children:"Wiegenr."}),(0,o.jsx)("th",{className:"font-normal",children:"Datum"}),(0,o.jsx)("th",{className:"font-normal",children:"Warenart"}),(0,o.jsx)("th",{className:"font-normal",children:"Bruttogewitcht"}),(0,o.jsx)("th",{className:"font-normal",children:"Taragewitcht"}),(0,o.jsx)("th",{className:"font-normal",children:"Nettogewicht"}),(0,o.jsx)("th",{className:"font-normal",children:"Standzeit"}),(0,o.jsxs)("th",{className:"font-normal",children:["Prod.-",(0,o.jsx)("br",{}),"Zeit"]}),(0,o.jsx)("th",{className:"font-normal",children:"kg / h"}),(0,o.jsx)("th",{className:"font-normal",children:"Bemerkung"}),(0,o.jsxs)("th",{className:"font-normal",children:["W.",(0,o.jsx)("br",{}),"Schein"]})]})}),(0,o.jsx)("tbody",{className:"bg-gray-50",children:l.map((function(t){return(0,o.jsxs)("tr",{className:"text-xs border-t",children:[(0,o.jsx)("td",{children:t.machine_id}),(0,o.jsx)("td",{children:(0,o.jsx)(s.default,{document_id:t.document_id,brutto:t.brutto,netto:t.netto,timestamp:t.timestamp,tara:t.tara,machine_id:t.machine_id,company:e,waretype:void 0!=h?h.filter((function(e){return e.machine_id==t.machine_id}))[0].waretype:"",sort:void 0!=h&&void 0!=f?f.filter((function(e){return e.name_waretype==t.waretype}))[0].waretype_number:""})}),(0,o.jsxs)("td",{children:[e.client_number,"-",(0,o.jsx)("br",{}),parseInt(e.client_number)+t.document_id]}),(0,o.jsx)("td",{children:i()(t.timestamp).format("DD.MM.yyyy")}),(0,o.jsx)("td",{children:t.waretype}),(0,o.jsx)("td",{children:t.brutto}),(0,o.jsx)("td",{children:t.tara}),(0,o.jsx)("td",{children:t.netto}),(0,o.jsxs)("td",{children:[(t.totalStandstill/36e5).toFixed(2),"h"]}),(0,o.jsxs)("td",{children:[(t.totalProductionTime/60).toFixed(2),"h"]}),(0,o.jsx)("td",{children:l?t.averageThroughput:""}),(0,o.jsx)("td",{}),(0,o.jsx)("td",{children:(0,o.jsx)("img",{className:"h-5",src:"/upload-svgrepo-com.svg"})})]},t.document_id)}))})]})})]})}}},function(t){t.O(0,[4885,5957,7270,9774,2888,179],(function(){return e=6882,t(t.s=e);var e}));var e=t.O();_N_E=e}]);