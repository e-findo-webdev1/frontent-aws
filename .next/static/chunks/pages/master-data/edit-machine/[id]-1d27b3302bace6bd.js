(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9561],{8839:function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/master-data/edit-machine/[id]",function(){return a(8199)}])},8199:function(e,n,a){"use strict";a.r(n);var t=a(6042),r=a(9396),l=a(5893),s=a(6154),o=a(7294),c=a(1163),i=a(1664),p=a.n(i);n.default=function(){var e=(0,c.useRouter)().query,n=(0,o.useState)({machine_id:0,machineType:"",machineName:"",group:"",waretype:"",quality:"",index:"",maxNetto:0,minContainer:0,maxContainer:0,averageThroughput:0,manualTara:"",minForFullStart:0,newFT111:!1,automaticTara:!1,fillingType:"",plandateCalculation:"",status:"",client:""}),a=n[0],i=n[1],u=(0,o.useState)(),d=u[0],h=u[1],m=(0,o.useState)(),x=m[0],g=m[1],j=(0,o.useState)(),f=j[0],w=j[1],b=(0,o.useState)([]),N=b[0],y=b[1],v=(0,o.useState)(),Z=v[0],C=v[1];(0,o.useEffect)((function(){if(f){var n=[];for(var a in f){if(f[a].indeces)for(var t in f[a].indeces)n.push(f[a].indeces[t]);""==N&&y(n)}}s.Z.get("https://8v9jqts989.execute-api.eu-central-1.amazonaws.com/machines").then((function(n){i(n.data.Items.filter((function(n){return n.machine_id==e.id}))[0])})).catch((function(e){console.log(e.response)})),s.Z.get("https://8v9jqts989.execute-api.eu-central-1.amazonaws.com/waretypes").then((function(e){h(e.data.Items)})).catch((function(e){console.log(e.response)})),s.Z.get("https://8v9jqts989.execute-api.eu-central-1.amazonaws.com/clients").then((function(e){g(e.data.Items)})).catch((function(e){console.log(e.response)})),s.Z.get("https://8v9jqts989.execute-api.eu-central-1.amazonaws.com/price-matrices").then((function(e){w(e.data.Items)})).catch((function(e){console.log(e.response)})),C(sessionStorage.getItem("company"))}),[a.index]);var T={machine_id:0,machineType:"",machineName:"",group:"",waretype:"",quality:"",index:"",maxNetto:0,minContainer:0,maxContainer:0,averageThroughput:0,manualTara:"",minForFullStart:0,newFT111:!1,automaticTara:!1,fillingType:"",plandateCalculation:"",status:"",client:""},k=function(e){s.Z.put("https://8v9jqts989.execute-api.eu-central-1.amazonaws.com/machines",e).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))};return console.log(a),(0,l.jsxs)("div",{id:"content-page",className:"mx-20 overflow-auto h-full",children:[(0,l.jsx)(p(),{href:Z?"/master-data/"+Z.company_id:"",children:(0,l.jsx)("button",{className:"float-right border ml-auto p-1.5 px-3.5 font-bold border-accent-color-1 bg-accent-color-4 hover:bg-accent-color-5 sm:rounded-lg shadow-md text-xs",children:"\u2190 Zur\xfcck"})}),(0,l.jsxs)("p",{className:"mb-7 text-3xl font-bold",children:["Maschinen ",e.id,a&&""!=a.machineName?" ("+a.machineName+")":""]}),(0,l.jsx)("div",{children:(0,l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),T.machine_id=a.machine_id,T.machineType=a.machineType,T.machineName=a.machineName,T.group=a.group,T.waretype=a.waretype,T.quality=a.quality,T.index=a.index,T.maxNetto=a.maxNetto,T.minContainer=a.minContainer,T.maxContainer=a.maxContainer,T.averageThroughput=a.averageThroughput,T.manualTara=a.manualTara,T.minForFullStart=a.minForFullStart,T.newFT111=a.newFT111,T.automaticTara=a.automaticTara,T.fillingType=a.fillingType,T.plandateCalculation=a.plandateCalculation,T.status=a.status,T.client=a.client,console.log(T),k(T)},children:[(0,l.jsx)("table",{className:"text-sm",children:(0,l.jsxs)("tbody",{children:[(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"p-1 pl-0",children:"Maschinen ID"}),(0,l.jsx)("td",{className:"p-1 pl-0",children:(0,l.jsx)("input",{id:"machineID",className:"border rounded w-full pl-2.5 py-0.5",required:!0,defaultValue:e.id,onChange:function(e){return i((0,r.Z)((0,t.Z)({},a),{machine_id:parseInt(e.target.value)}))}})}),(0,l.jsx)("td",{className:"p-1 pl-3",children:"Durchsatz Durchschnitt"}),(0,l.jsx)("td",{className:"p-1 pl-0",children:(0,l.jsx)("input",{className:"border rounded w-full pl-2.5 py-0.5",defaultValue:a?a.averageThroughput:"",onChange:function(e){return i((0,r.Z)((0,t.Z)({},a),{averageThroughput:parseInt(e.target.value)}))}})})]}),(0,l.jsxs)("tr",{className:"h-8",children:[(0,l.jsx)("td",{className:"p-1 pl-0",children:"Maschinentyp"}),(0,l.jsx)("td",{className:"p-1 pl-0",children:(0,l.jsxs)("select",{id:"machineType",className:"w-full pl-2.5 py-0.5 appearance-none border rounded bg-[url('https://www.svgrepo.com/show/80156/down-arrow.svg')] bg-no-repeat bg-[length:15px] [background-position-x:95%] [background-position-y:5px]",defaultValue:a?a.machineType:"esb",onChange:function(e){return i((0,r.Z)((0,t.Z)({},a),{machineType:e.target.value}))},children:[(0,l.jsx)("option",{children:"esb"}),(0,l.jsx)("option",{children:"bw"}),(0,l.jsx)("option",{children:"Silo"})]})}),(0,l.jsx)("td",{className:"p-1 pl-3",children:"Man. Tara (Maschine)"}),(0,l.jsx)("td",{className:"p-1 pl-0",children:(0,l.jsx)("input",{className:"border rounded w-full pl-2.5 py-0.5",defaultValue:a?a.manualTara:"0",onChange:function(e){return i((0,r.Z)((0,t.Z)({},a),{manualTara:e.target.value}))}})})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"p-1 pl-0 pr-12",children:"Machinenbezeichnung"}),(0,l.jsx)("td",{className:"p-1 pl-0",children:(0,l.jsx)("input",{id:"machineName",className:"border rounded w-full pl-2.5 py-0.5",required:!0,defaultValue:a?a.machineName:"",onChange:function(e){return i((0,r.Z)((0,t.Z)({},a),{machineName:e.target.value}))}})}),(0,l.jsx)("td",{className:"p-1 pl-3",children:"Min. F\xfcllmenge f\xfcr F\xfcll-Start"}),(0,l.jsx)("td",{className:"p-1 pl-0",children:(0,l.jsx)("input",{className:"border rounded w-full pl-2.5 py-0.5",defaultValue:a?a.minForFullStart:"0",onChange:function(e){return i((0,r.Z)((0,t.Z)({},a),{minForFullStart:parseInt(e.target.value)}))}})})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"p-1 pl-0",children:"Gruppierung"}),(0,l.jsx)("td",{className:"p-1 pl-0",children:(0,l.jsx)("input",{className:"border rounded w-full pl-2.5 py-0.5",defaultValue:a?a.group:"",onChange:function(e){return i((0,r.Z)((0,t.Z)({},a),{group:e.target.value}))}})}),(0,l.jsx)("td",{className:"p-1 pl-3 pr-12",children:"Neue Berechnung FT-111 (automatisch)"}),(0,l.jsx)("td",{className:"p-1 pl-0.5",children:(0,l.jsx)("input",{type:"checkbox",checked:!!a&&a.newFT111,onChange:function(e){return i((0,r.Z)((0,t.Z)({},a),{newFT111:e.target.checked}))}})})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"p-1 pl-0",children:"Warentyp"}),(0,l.jsx)("td",{className:"p-1 pl-0",children:(0,l.jsx)("select",{className:"w-full pl-2.5 py-0.5 appearance-none border rounded bg-[url('https://www.svgrepo.com/show/80156/down-arrow.svg')] bg-no-repeat bg-[length:15px] [background-position-x:95%] [background-position-y:5px]",defaultValue:a?a.waretype:"",onChange:function(e){return i((0,r.Z)((0,t.Z)({},a),{waretype:e.target.value}))},children:d?d.sort((function(e,n){return e.name_waretype<n.name_waretype?-1:e.name_waretype>n.name_waretype?1:0})).map((function(e){return(0,l.jsx)("option",{children:e.name_waretype},e.waretype_id)})):""})}),(0,l.jsx)("td",{className:"p-1 pl-3",children:"Einmaliges Tarieren"}),(0,l.jsx)("td",{className:"p-1 pl-0.5",children:(0,l.jsx)("input",{type:"checkbox",checked:!!a&&a.automaticTara,onChange:function(e){return i((0,r.Z)((0,t.Z)({},a),{automaticTara:e.target.checked}))}})})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"p-1 pl-0",children:"Warenqualit\xe4t"}),(0,l.jsx)("td",{className:"p-1 pl-0",children:(0,l.jsxs)("select",{className:"w-full pl-2.5 py-0.5 appearance-none border rounded bg-[url('https://www.svgrepo.com/show/80156/down-arrow.svg')] bg-no-repeat bg-[length:15px] [background-position-x:95%] [background-position-y:5px]",defaultValue:a?a.quality:"",onChange:function(e){return i((0,r.Z)((0,t.Z)({},a),{quality:e.target.value}))},children:[(0,l.jsx)("option",{children:"normal"}),(0,l.jsx)("option",{children:"gebrochen"})]})}),(0,l.jsx)("td",{className:"p-1 pl-3",children:"Bef\xfcllart"}),(0,l.jsx)("td",{className:"p-1 pl-0",children:(0,l.jsxs)("select",{className:"w-full pl-2.5 py-0.5 appearance-none border rounded bg-[url('https://www.svgrepo.com/show/80156/down-arrow.svg')] bg-no-repeat bg-[length:15px] [background-position-x:95%] [background-position-y:5px]",defaultValue:a?a.fillingType:"",onChange:function(e){return i((0,r.Z)((0,t.Z)({},a),{fillingType:e.target.value}))},children:[(0,l.jsx)("option",{children:"Automatisch"}),(0,l.jsx)("option",{children:"Manuell"})]})})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"p-1 pl-0",children:"Index"}),(0,l.jsx)("td",{className:"p-1 pl-0",children:(0,l.jsxs)("select",{className:"w-full pl-2.5 py-0.5 appearance-none border rounded bg-[url('https://www.svgrepo.com/show/80156/down-arrow.svg')] bg-no-repeat bg-[length:15px] [background-position-x:95%] [background-position-y:5px]",value:a.index,onChange:function(e){return i((0,r.Z)((0,t.Z)({},a),{index:e.target.value}))},children:[(0,l.jsx)("option",{children:"- kein Index -"},"noIndex"),f?N.map((function(e){return(0,l.jsx)("option",{children:e},e)})):""]})}),(0,l.jsx)("td",{className:"p-1 pl-3",children:"Plandatum Berechnung"}),(0,l.jsx)("td",{className:"p-1 pl-0",children:(0,l.jsxs)("select",{className:"w-full pl-2.5 py-0.5 appearance-none border rounded bg-[url('https://www.svgrepo.com/show/80156/down-arrow.svg')] bg-no-repeat bg-[length:15px] [background-position-x:95%] [background-position-y:5px]",value:a.plandateCalculation,onChange:function(e){return i((0,r.Z)((0,t.Z)({},a),{plandateCalculation:e.target.value}))},children:[(0,l.jsx)("option",{children:"Plandatum V.1"}),(0,l.jsx)("option",{children:"Plandatum V.2"})]})})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"p-1 pl-0",children:"Max Netto"}),(0,l.jsx)("td",{className:"p-1 pl-0",children:(0,l.jsx)("input",{className:"border rounded w-full pl-2.5 py-0.5",defaultValue:a?a.maxNetto:0,onChange:function(e){return i((0,r.Z)((0,t.Z)({},a),{maxNetto:parseInt(e.target.value)}))}})}),(0,l.jsx)("td",{className:"p-1 pl-3",children:"Status"}),(0,l.jsx)("td",{className:"p-1 pl-0",children:(0,l.jsxs)("select",{className:"w-full pl-2.5 py-0.5 appearance-none border rounded bg-[url('https://www.svgrepo.com/show/80156/down-arrow.svg')] bg-no-repeat bg-[length:15px] [background-position-x:95%] [background-position-y:5px]",value:a?a.status:"",onChange:function(e){return i((0,r.Z)((0,t.Z)({},a),{status:e.target.value}))},children:[(0,l.jsx)("option",{children:"Wird bef\xfcllt (1)"}),(0,l.jsx)("option",{children:"kein Container (2)"}),(0,l.jsx)("option",{children:"Container tariert (3)"}),(0,l.jsx)("option",{children:"\xdcbergewicht (4)"}),(0,l.jsx)("option",{children:"Fertig (5)"}),(0,l.jsx)("option",{children:"Abholung (6)"}),(0,l.jsx)("option",{children:"Stillstand (7)"}),(0,l.jsx)("option",{children:"Containertausch (8)"})]})})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"p-1 pl-0",children:"Min Container Gewicht"}),(0,l.jsx)("td",{className:"p-1 pl-0",children:(0,l.jsx)("input",{className:"border rounded w-full pl-2.5 py-0.5",defaultValue:a?a.minContainer:0,onChange:function(e){return i((0,r.Z)((0,t.Z)({},a),{minContainer:parseInt(e.target.value)}))}})}),(0,l.jsx)("td",{className:"p-1 pl-3",children:"Kunde"}),(0,l.jsx)("td",{className:"p-1 pl-0",children:(0,l.jsx)("select",{className:"w-full pl-2.5 py-0.5 appearance-none border rounded bg-[url('https://www.svgrepo.com/show/80156/down-arrow.svg')] bg-no-repeat bg-[length:15px] [background-position-x:95%] [background-position-y:5px]",defaultValue:a?a.client:"",onChange:function(e){return i((0,r.Z)((0,t.Z)({},a),{client:e.target.value}))},children:x?x.map((function(e){return(0,l.jsx)("option",{children:e.client_name},e.client_id)})):""})})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"p-1 pl-0",children:"Max Container Gewicht"}),(0,l.jsx)("td",{className:"p-1 pl-0",children:(0,l.jsx)("input",{className:"border rounded w-full pl-2.5 py-0.5",defaultValue:"0",onChange:function(e){return i((0,r.Z)((0,t.Z)({},a),{maxContainer:parseInt(e.target.value)}))}})})]}),(0,l.jsx)("tr",{children:(0,l.jsx)("td",{})}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{}),(0,l.jsx)("td",{}),(0,l.jsx)("td",{}),(0,l.jsx)("td",{className:"p-1 pl-0",children:(0,l.jsx)("button",{className:"mb-10 float-right border p-1.5 px-3.5 font-bold border-accent-color-1 bg-accent-color-4 hover:bg-accent-color-5 sm:rounded-lg shadow-md text-xs",type:"submit",children:"Speichern"})})]})]})}),(0,l.jsx)("button",{className:"mt-9 border p-1.5 px-3.5 font-bold border-accent-color-1 bg-accent-color-4 hover:bg-accent-color-5 sm:rounded-lg shadow-md text-xs",children:"Maschine entfernen"})]})})]})}},9396:function(e,n,a){"use strict";function t(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})),e}a.d(n,{Z:function(){return t}})}},function(e){e.O(0,[9774,2888,179],(function(){return n=8839,e(e.s=n);var n}));var n=e.O();_N_E=n}]);