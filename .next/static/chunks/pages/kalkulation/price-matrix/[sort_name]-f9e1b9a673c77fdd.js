(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8449],{3874:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/kalkulation/price-matrix/[sort_name]",function(){return t(8415)}])},8415:function(e,r,t){"use strict";t.r(r);var n=t(4924),o=t(6042),a=t(9396),c=t(5893),i=t(7294),s=t(1163),u=t(8422),l=t(6154),d=t(381),m=t.n(d),p=t(1664),f=t.n(p);r.default=function(){var e=(0,i.useState)(m()())[0],r=(0,i.useState)({price_matrix:"",indexgroup_name:"",indeces:[],prices:{Januar:{},Februar:{},"M\xe4rz":{},April:{},Mai:{},Juni:{},Juli:{},August:{},September:{},Oktober:{},November:{},"Dezember:":{}}}),t=r[0],d=r[1],p=(0,i.useState)({Januar:{},Februar:{},"M\xe4rz":{},April:{},Mai:{},Juni:{},Juli:{},August:{},September:{},Oktober:{},November:{},"Dezember:":{}}),x=p[0],b=p[1],h=(0,s.useRouter)().query;(0,i.useEffect)((function(){l.Z.get("https://8v9jqts989.execute-api.eu-central-1.amazonaws.com/price-matrices").then((function(e){d((0,a.Z)((0,o.Z)({},t),{price_matrix:e.data.Items.filter((function(e){return e.price_matrix==(0,u.default)(h.sort_name)}))[0].price_matrix,indexgroup_name:e.data.Items.filter((function(e){return e.price_matrix==(0,u.default)(h.sort_name)}))[0].indexgroup_name,prices:e.data.Items.filter((function(e){return e.price_matrix==(0,u.default)(h.sort_name)}))[0].prices,indeces:e.data.Items.filter((function(e){return e.price_matrix==(0,u.default)(h.sort_name)}))[0].indeces}))})).catch((function(e){console.log(e.response)}))}),[]),console.log(x);var g={0:"Januar",1:"Februar",2:"M\xe4rz",3:"April",4:"Mai",5:"Juni",6:"Juli",7:"August",8:"September",9:"Oktober",10:"November",11:"Dezember"},_={price_matrix:"",indexgroup_name:"",indeces:[],prices:{}},j=function(e){l.Z.put("https://8v9jqts989.execute-api.eu-central-1.amazonaws.com/price-matrices",e).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))};return console.log(t),(0,c.jsx)("div",{id:"content-page",className:"px-24 h-full overflow-auto",children:(0,c.jsxs)("div",{className:"h-max overflow-auto",children:[(0,c.jsx)(f(),{href:"/kalkulation/",children:(0,c.jsx)("button",{className:"float-right border ml-auto p-1.5 px-3.5 font-bold border-accent-color-1 bg-accent-color-4 hover:bg-accent-color-5 sm:rounded-lg shadow-md text-xs",children:"\u2190 Zur\xfcck"})}),(0,c.jsxs)("p",{className:"text-lg font-bold mb-3",children:["Preismatrix: ",t.indexgroup_name+" - "+(0,u.default)(h.sort_name)]}),(0,c.jsx)("p",{className:"font-bold text-sm",children:"2023"}),(0,c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),_.price_matrix=t.price_matrix,_.indexgroup_name=t.indexgroup_name,_.indeces=t.indeces,_.prices=x,j(_)},children:[(0,c.jsx)("div",{className:"mb-3 sm:rounded-lg shadow-md border overflow-auto max-h-full w-3/5 mt-3",children:(0,c.jsxs)("table",{className:"flex-row w-full table-fixed",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{className:"text-xs text-gray-500 border-b text-left",children:[(0,c.jsx)("th",{className:"font-normal",children:"Monat"}),t?t.indeces.sort((function(e,r){return e<r?-1:e>r?1:0})).map((function(e){return(0,c.jsx)("th",{className:"font-normal text-right",children:e},e)})):""]})}),(0,c.jsx)("tbody",{className:"bg-gray-50",children:["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"].map((function(r){return(0,c.jsxs)("tr",{className:"text-xs text-gray-500 border-b",children:[(0,c.jsx)("td",{children:r}),""!=t.price_matrix&&g[e.month()]==r?t.indeces.sort((function(e,r){return e<r?-1:e>r?1:0})).map((function(e){return(0,c.jsx)("td",{children:(0,c.jsx)("input",{className:"border rounded pl-2.5 py-0.5 w-full",defaultValue:t?t.prices[r][e]:"",onChange:function(t){return b((0,a.Z)((0,o.Z)({},x),(0,n.Z)({},r,(0,a.Z)((0,o.Z)({},x[r]),(0,n.Z)({},e,parseInt(t.target.value))))))}})},e)})):t.indeces.sort((function(e,r){return e<r?-1:e>r?1:0})).map((function(e){return(0,c.jsx)("td",{children:(0,c.jsx)("p",{})},e)}))]},r)}))})]})}),(0,c.jsx)("button",{className:"border p-1.5 px-3.5 font-bold border-accent-color-1 bg-accent-color-4 hover:bg-accent-color-5 rounded-lg shadow-md text-xs",type:"submit",children:"Speichern"})]})]})})}},9396:function(e,r,t){"use strict";function n(e,r){return r=null!=r?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):function(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})),e}t.d(r,{Z:function(){return n}})}},function(e){e.O(0,[4885,9774,2888,179],(function(){return r=3874,e(e.s=r);var r}));var r=e.O();_N_E=r}]);